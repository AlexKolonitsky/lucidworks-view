<div id="documentList">
  <document ng-repeat="doc in vm.docs" doc="doc" highlight="vm.highlighting"></document>

  <div ng-if="vm.groupedResults" ng-repeat="(key, val) in vm.groupedResults">
    <h1>{{key}}</h1>
    <div ng-repeat="group in val.groups">
      <h3 ng-if="group.groupValue" ng-click="vm.toggleGroupedResults(group.groupValue)">{{group.groupValue}}</h3>
      <!-- TODO refactor this -->
      <div ng-repeat="doc in group.doclist.docs" ng-show="vm.showGroupedResults[group.groupValue] || vm.showGroupedResults['noGroupedValue']">
        <document doc="doc" highlight="vm.highlighting"></document>
      </div>
    </div>
  </div>
</div>
